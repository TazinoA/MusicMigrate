<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/styles.css"/>
    <title>MusicMigrate</title>
</head>
<body>
  <header class="header">
    <div class="header-left-section">
      <h2>MusicMigrate</h2>
    </div>
    <div class="header-right-section">
      <p>Features</p>
      <p>How it Works</p>
      <button>Get Started</button>
    </div>
  </header>
  <h1>Select Playlists</h1>
  <div class="content-container">
    <div class="items">
      <h2>Your Playlists</h2>
      <div class="playlist-items">
        {% for playlist in playlists %}
        <div class="playlist" id="{{playlist.id}}" name="{{playlist.name}}" count = "{{playlist.count}}">
          <img src="{{ playlist.logo }}" alt="{{ playlist.name }}">
          <div>
            <p>{{ playlist.name }}</p>
              <span class="music-symbol">â™ª</span>
              <span class = "track-count">{{playlist.count}} tracks</span>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    
    <div class="transfer-details">
      <h3>Transfer Details</h3>
      <div class="transfer-details-content">
        <div>
          <label>Selected Playlists</label>
            <div id = "section">
              {% include 'partials/selected-playlists.html' %}
            </div>
          </div>
        </div>
        <button class="transfer-button">Choose Destination</button>
        <div class="helper-text">
          This will copy your playlists to the destination platform. Your original playlists will remain untouched.
        </div>
      </div>
    </div>

  <div class="loading-overlay" style = "display:none">
    <div class="loading-container">
      <div class="loading-animation">
        <div class="music-note-animation">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
      <h2 class="loading-title">Transferring Your Playlists</h2>
      <p class="loading-description">Please wait while we move your music. This may take a few minutes.</p>
      
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill"></div>
        </div>
        <div class="progress-text">
          <span class="current-playlist">Transferring: Chill Vibes</span>
          <span class="progress-percentage">45%</span>
        </div>
      </div>
      
      <div class="transfer-stats">
        <div class="stat-item">
          <div class="stat-value">2/5</div>
          <div class="stat-label">Playlists</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">48/112</div>
          <div class="stat-label">Songs</div>
        </div>
      </div>
    </div>
  </div>

  </div>
  <script type="module" src="../static/index.js"></script>
</body>
</html>