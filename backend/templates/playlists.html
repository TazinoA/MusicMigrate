<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/index.css"/>
    <link rel="stylesheet" href="../static/transfer.css"/>
    <title>MusicMigrate</title>
</head>
<body>
    <header class="header">
      <div class="header-left-section">
        <h2>MusicMigrate</h2>
      </div>
      <div class="header-right-section">
        <p>Home</p>
        <p>Contact</p>
      </div>
    </header>

    <main>
      <div class="title">
        <h1>Transfer Your Playlists</h1>
        <p>Select the playlists you want to transfer between music platforms</p>
      </div>

      <div class="container">
        <div class="select-platforms">
          <h3>Select Platforms</h3>
          <div class="select-source">
            <p>Source Platform</p>
            <select name="source">
              <option value="" hidden disabled selected>Select source platform</option>
              {% for card in cards %}
                <option value="{{ card.name }}">{{ card.name }}</option>
              {% endfor %}
            </select>
          </div>
          <button disabled>Connect to Platform</button>
          <div class="select-destination hidden">
            <p>Destination Platform</p>
            <select name="destination">
              <option value="" hidden disabled selected>Select destination platform</option>
              {% for card in cards %}
                <option value="{{ card.name }}">{{ card.name }}</option>
              {% endfor %}
            </select>
          </div>
        </div>

        <div class="pre-connect">
          <h2>Connect to a Music Platform</h2>
          <p>Select a source platform and connect your account to view your playlists</p>
          <button disabled>Connect to platform</button>
        </div>

        <div class="transfer-details hidden">
          <h3>Transfer Summary</h3>
          <p>Selected Playlists: <span>0</span></p>
          <p>Total Tracks: <span>0</span></p>
          <button>→ Start Transfer</button>
        </div>

        <div class="display-playlists hidden">
          <div class="display-playlists-header">
            <h3>Your playlists <span>from Spotify</span></h3>
            <button>Select All</button>
            <input type="text" placeholder="Search playlists...">
          </div>
          <div class="playlists">
            {% for playlist in playlists %}
              <div class="playlist" id="{{ playlist.id }}" name="{{ playlist.name }}" count="{{ playlist.count }}">
                <img src="{{ playlist.logo }}" alt="{{ playlist.name }}">
                <div>
                  <p>{{ playlist.name }}</p>
                  <span class="music-symbol">♪</span>
                  <span class="track-count">{{ playlist.count }} tracks</span>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </main>

    <script src="/main.js"></script>    
</body>
</html>
